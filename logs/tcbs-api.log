[2025-05-30T03:50:09.180Z] [INFO] [TCBS] Market data request received
{
  "userId": "cmb6ahtk10000gq50si3n8mci",
  "tickers": [
    "NKG",
    "NTL"
  ],
  "cacheDuration": "60 minutes"
}
--------------------------------------------------------------------------------
[2025-05-30T03:50:09.181Z] [DEBUG] [TCBS] Starting market data fetch with caching
{
  "tickers": [
    "NKG",
    "NTL"
  ]
}
--------------------------------------------------------------------------------
[2025-05-30T03:50:09.373Z] [INFO] [TCBS] Cache EXPIRED for NKG
{
  "cacheAge": "1073 minutes old",
  "cacheDuration": "60 minutes"
}
--------------------------------------------------------------------------------
[2025-05-30T03:50:09.374Z] [INFO] [TCBS] Fetching market data from TCBS API
{
  "ticker": "NKG",
  "from": 1748476800,
  "to": 1748563200,
  "url": "https://apipubaws.tcbs.com.vn/stock-insight/v1/stock/bars-long-term?ticker=NKG&type=stock&resolution=D&from=1748476800&to=1748563200"
}
--------------------------------------------------------------------------------
[2025-05-30T03:50:09.384Z] [INFO] [TCBS] Cache EXPIRED for NTL
{
  "cacheAge": "1073 minutes old",
  "cacheDuration": "60 minutes"
}
--------------------------------------------------------------------------------
[2025-05-30T03:50:09.384Z] [INFO] [TCBS] Fetching market data from TCBS API
{
  "ticker": "NTL",
  "from": 1748476800,
  "to": 1748563200,
  "url": "https://apipubaws.tcbs.com.vn/stock-insight/v1/stock/bars-long-term?ticker=NTL&type=stock&resolution=D&from=1748476800&to=1748563200"
}
--------------------------------------------------------------------------------
[2025-05-30T03:50:10.034Z] [INFO] [TCBS] TCBS API response status
{
  "ticker": "NTL",
  "status": 200
}
--------------------------------------------------------------------------------
[2025-05-30T03:50:10.035Z] [DEBUG] [TCBS] API response structure
{
  "ticker": "NTL",
  "keys": [
    "ticker",
    "data",
    "dataT1"
  ],
  "sample": "{\"ticker\":\"NTL\",\"data\":[{\"open\":17100,\"high\":17200,\"low\":16800,\"close\":16950,\"volume\":2268800,\"tradingDate\":\"2025-05-30T03:49:00.000Z\"}],\"dataT1\":null}"
}
--------------------------------------------------------------------------------
[2025-05-30T03:50:10.036Z] [INFO] [TCBS] Successfully fetched market data
{
  "ticker": "NTL",
  "latestEntry": {
    "open": 17100,
    "high": 17200,
    "low": 16800,
    "close": 16950,
    "volume": 2268800,
    "tradingDate": "2025-05-30T03:49:00.000Z"
  }
}
--------------------------------------------------------------------------------
[2025-05-30T03:50:10.043Z] [INFO] [TCBS] TCBS API response status
{
  "ticker": "NKG",
  "status": 200
}
--------------------------------------------------------------------------------
[2025-05-30T03:50:10.044Z] [DEBUG] [TCBS] API response structure
{
  "ticker": "NKG",
  "keys": [
    "ticker",
    "data",
    "dataT1"
  ],
  "sample": "{\"ticker\":\"NKG\",\"data\":[{\"open\":13250,\"high\":13800,\"low\":13250,\"close\":13400,\"volume\":10913600,\"tradingDate\":\"2025-05-30T03:49:00.000Z\"}],\"dataT1\":null}"
}
--------------------------------------------------------------------------------
[2025-05-30T03:50:10.044Z] [INFO] [TCBS] Successfully fetched market data
{
  "ticker": "NKG",
  "latestEntry": {
    "open": 13250,
    "high": 13800,
    "low": 13250,
    "close": 13400,
    "volume": 10913600,
    "tradingDate": "2025-05-30T03:49:00.000Z"
  }
}
--------------------------------------------------------------------------------
[2025-05-30T03:50:10.310Z] [INFO] [TCBS] Updated cache for NTL
{
  "price": 16950,
  "timestamp": 1748577009182
}
--------------------------------------------------------------------------------
[2025-05-30T03:50:10.964Z] [INFO] [TCBS] Updated cache for NKG
{
  "price": 13400,
  "timestamp": 1748577009181
}
--------------------------------------------------------------------------------
[2025-05-30T03:50:10.964Z] [INFO] [TCBS] Market data fetch completed
{
  "totalRequested": 2,
  "cacheHits": 0,
  "cacheMisses": 2,
  "errors": 0,
  "fetchTime": "1783ms",
  "totalTime": "1791ms"
}
--------------------------------------------------------------------------------
[2025-05-30T03:50:10.978Z] [INFO] [TCBS] Batch cache HIT for [NKG,NTL]
--------------------------------------------------------------------------------
[2025-05-30T03:50:10.978Z] [INFO] [TCBS] Market data API (cached batch) completed in 3ms
--------------------------------------------------------------------------------
[2025-05-30T03:56:55.058Z] [INFO] [TCBS] Market data request received
{
  "userId": "cmb6ahtk10000gq50si3n8mci",
  "tickers": [
    "NKG",
    "NTL"
  ],
  "cacheDuration": "60 minutes"
}
--------------------------------------------------------------------------------
[2025-05-30T03:56:55.060Z] [DEBUG] [TCBS] Starting market data fetch with caching
{
  "tickers": [
    "NKG",
    "NTL"
  ]
}
--------------------------------------------------------------------------------
[2025-05-30T03:56:55.191Z] [INFO] [TCBS] Cache HIT for NKG
{
  "cacheAge": "7 minutes old"
}
--------------------------------------------------------------------------------
[2025-05-30T03:56:55.191Z] [INFO] [TCBS] Cache HIT for NTL
{
  "cacheAge": "7 minutes old"
}
--------------------------------------------------------------------------------
[2025-05-30T03:56:55.191Z] [INFO] [TCBS] Market data fetch completed
{
  "totalRequested": 2,
  "cacheHits": 2,
  "cacheMisses": 0,
  "errors": 0,
  "fetchTime": "131ms",
  "totalTime": "146ms"
}
--------------------------------------------------------------------------------
[2025-05-30T04:05:54.717Z] [INFO] [TCBS] Market data request received
{
  "userId": "cmb6ahtk10000gq50si3n8mci",
  "tickers": [
    "NKG",
    "NTL"
  ],
  "cacheDuration": "60 minutes"
}
--------------------------------------------------------------------------------
[2025-05-30T04:05:54.719Z] [DEBUG] [TCBS] Starting market data fetch with caching
{
  "tickers": [
    "NKG",
    "NTL"
  ]
}
--------------------------------------------------------------------------------
[2025-05-30T04:05:54.838Z] [INFO] [TCBS] Cache HIT for NKG
{
  "cacheAge": "16 minutes old"
}
--------------------------------------------------------------------------------
[2025-05-30T04:05:54.838Z] [INFO] [TCBS] Cache HIT for NTL
{
  "cacheAge": "16 minutes old"
}
--------------------------------------------------------------------------------
[2025-05-30T04:05:54.838Z] [INFO] [TCBS] Market data fetch completed
{
  "totalRequested": 2,
  "cacheHits": 2,
  "cacheMisses": 0,
  "errors": 0,
  "fetchTime": "119ms",
  "totalTime": "134ms"
}
--------------------------------------------------------------------------------
[2025-05-30T04:05:54.850Z] [INFO] [TCBS] Batch cache HIT for [NKG,NTL]
--------------------------------------------------------------------------------
[2025-05-30T04:05:54.850Z] [INFO] [TCBS] Market data API (cached batch) completed in 2ms
--------------------------------------------------------------------------------
