[2025-07-21T09:20:32.169Z] [INFO] [API] Portfolio cache miss for user cmdcw5pb60000dcyk0t6zw3c2, account: all, adjustments: false, calculating...
--------------------------------------------------------------------------------
[2025-07-21T09:20:32.645Z] [ERROR] [API] Error fetching portfolio data:
{
  "error": "\nInvalid `prisma.purchaseLot.findMany()` invocation:\n\n{\n  where: {\n    userId: \"cmdcw5pb60000dcyk0t6zw3c2\",\n    remainingQuantity: {\n      gt: 0\n    }\n  },\n  include: {\n    user: true\n    ~~~~\n  }\n}\n\nUnknown field `user` for include statement on model `PurchaseLot`. Available options are marked with ?.",
  "stack": "PrismaClientValidationError: \nInvalid `prisma.purchaseLot.findMany()` invocation:\n\n{\n  where: {\n    userId: \"cmdcw5pb60000dcyk0t6zw3c2\",\n    remainingQuantity: {\n      gt: 0\n    }\n  },\n  include: {\n    user: true\n    ~~~~\n  }\n}\n\nUnknown field `user` for include statement on model `PurchaseLot`. Available options are marked with ?.\n    at wn (/home/wsladmin/trading-journal/node_modules/@prisma/client/runtime/library.js:29:1363)\n    at $n.handleRequestError (/home/wsladmin/trading-journal/node_modules/@prisma/client/runtime/library.js:121:6958)\n    at $n.handleAndLogRequestError (/home/wsladmin/trading-journal/node_modules/@prisma/client/runtime/library.js:121:6623)\n    at $n.request (/home/wsladmin/trading-journal/node_modules/@prisma/client/runtime/library.js:121:6307)\n    at async l (/home/wsladmin/trading-journal/node_modules/@prisma/client/runtime/library.js:130:9633)\n    at async calculatePortfolioWithNewCostBasis (webpack-internal:///(rsc)/./app/lib/cost-basis-calculator.js:142:24)\n    at async GET (webpack-internal:///(rsc)/./app/api/portfolio/route.js:52:194)\n    at async AppRouteRouteModule.do (/home/wsladmin/trading-journal/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (/home/wsladmin/trading-journal/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:26:41338)\n    at async doRender (/home/wsladmin/trading-journal/node_modules/next/dist/server/base-server.js:1513:42)\n    at async DevServer.renderToResponseWithComponentsImpl (/home/wsladmin/trading-journal/node_modules/next/dist/server/base-server.js:1915:28)\n    at async DevServer.renderPageComponent (/home/wsladmin/trading-journal/node_modules/next/dist/server/base-server.js:2403:24)\n    at async DevServer.renderToResponseImpl (/home/wsladmin/trading-journal/node_modules/next/dist/server/base-server.js:2440:32)\n    at async DevServer.pipeImpl (/home/wsladmin/trading-journal/node_modules/next/dist/server/base-server.js:1007:25)\n    at async NextNodeServer.handleCatchallRenderRequest (/home/wsladmin/trading-journal/node_modules/next/dist/server/next-server.js:305:17)\n    at async DevServer.handleRequestImpl (/home/wsladmin/trading-journal/node_modules/next/dist/server/base-server.js:899:17)\n    at async /home/wsladmin/trading-journal/node_modules/next/dist/server/dev/next-dev-server.js:371:20\n    at async Span.traceAsyncFn (/home/wsladmin/trading-journal/node_modules/next/dist/trace/trace.js:157:20)\n    at async DevServer.handleRequest (/home/wsladmin/trading-journal/node_modules/next/dist/server/dev/next-dev-server.js:368:24)\n    at async invokeRender (/home/wsladmin/trading-journal/node_modules/next/dist/server/lib/router-server.js:237:21)\n    at async handleRequest (/home/wsladmin/trading-journal/node_modules/next/dist/server/lib/router-server.js:428:24)\n    at async requestHandlerImpl (/home/wsladmin/trading-journal/node_modules/next/dist/server/lib/router-server.js:452:13)\n    at async Server.requestListener (/home/wsladmin/trading-journal/node_modules/next/dist/server/lib/start-server.js:158:13)"
}
--------------------------------------------------------------------------------
[2025-07-21T09:20:32.775Z] [INFO] [API] Portfolio cache miss for user cmdcw5pb60000dcyk0t6zw3c2, account: all, adjustments: false, calculating...
--------------------------------------------------------------------------------
[2025-07-21T09:20:32.777Z] [ERROR] [API] Error fetching portfolio data:
{
  "error": "\nInvalid `prisma.purchaseLot.findMany()` invocation:\n\n{\n  where: {\n    userId: \"cmdcw5pb60000dcyk0t6zw3c2\",\n    remainingQuantity: {\n      gt: 0\n    }\n  },\n  include: {\n    user: true\n    ~~~~\n  }\n}\n\nUnknown field `user` for include statement on model `PurchaseLot`. Available options are marked with ?.",
  "stack": "PrismaClientValidationError: \nInvalid `prisma.purchaseLot.findMany()` invocation:\n\n{\n  where: {\n    userId: \"cmdcw5pb60000dcyk0t6zw3c2\",\n    remainingQuantity: {\n      gt: 0\n    }\n  },\n  include: {\n    user: true\n    ~~~~\n  }\n}\n\nUnknown field `user` for include statement on model `PurchaseLot`. Available options are marked with ?.\n    at wn (/home/wsladmin/trading-journal/node_modules/@prisma/client/runtime/library.js:29:1363)\n    at $n.handleRequestError (/home/wsladmin/trading-journal/node_modules/@prisma/client/runtime/library.js:121:6958)\n    at $n.handleAndLogRequestError (/home/wsladmin/trading-journal/node_modules/@prisma/client/runtime/library.js:121:6623)\n    at $n.request (/home/wsladmin/trading-journal/node_modules/@prisma/client/runtime/library.js:121:6307)\n    at async l (/home/wsladmin/trading-journal/node_modules/@prisma/client/runtime/library.js:130:9633)\n    at async calculatePortfolioWithNewCostBasis (webpack-internal:///(rsc)/./app/lib/cost-basis-calculator.js:142:24)\n    at async GET (webpack-internal:///(rsc)/./app/api/portfolio/route.js:52:194)\n    at async AppRouteRouteModule.do (/home/wsladmin/trading-journal/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (/home/wsladmin/trading-journal/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:26:41338)\n    at async doRender (/home/wsladmin/trading-journal/node_modules/next/dist/server/base-server.js:1513:42)\n    at async DevServer.renderToResponseWithComponentsImpl (/home/wsladmin/trading-journal/node_modules/next/dist/server/base-server.js:1915:28)\n    at async DevServer.renderPageComponent (/home/wsladmin/trading-journal/node_modules/next/dist/server/base-server.js:2403:24)\n    at async DevServer.renderToResponseImpl (/home/wsladmin/trading-journal/node_modules/next/dist/server/base-server.js:2440:32)\n    at async DevServer.pipeImpl (/home/wsladmin/trading-journal/node_modules/next/dist/server/base-server.js:1007:25)\n    at async NextNodeServer.handleCatchallRenderRequest (/home/wsladmin/trading-journal/node_modules/next/dist/server/next-server.js:305:17)\n    at async DevServer.handleRequestImpl (/home/wsladmin/trading-journal/node_modules/next/dist/server/base-server.js:899:17)\n    at async /home/wsladmin/trading-journal/node_modules/next/dist/server/dev/next-dev-server.js:371:20\n    at async Span.traceAsyncFn (/home/wsladmin/trading-journal/node_modules/next/dist/trace/trace.js:157:20)\n    at async DevServer.handleRequest (/home/wsladmin/trading-journal/node_modules/next/dist/server/dev/next-dev-server.js:368:24)\n    at async invokeRender (/home/wsladmin/trading-journal/node_modules/next/dist/server/lib/router-server.js:237:21)\n    at async handleRequest (/home/wsladmin/trading-journal/node_modules/next/dist/server/lib/router-server.js:428:24)\n    at async requestHandlerImpl (/home/wsladmin/trading-journal/node_modules/next/dist/server/lib/router-server.js:452:13)\n    at async Server.requestListener (/home/wsladmin/trading-journal/node_modules/next/dist/server/lib/start-server.js:158:13)"
}
--------------------------------------------------------------------------------
[2025-07-21T09:28:38.572Z] [INFO] [API] Portfolio cache miss for user cmdcw5pb60000dcyk0t6zw3c2, account: all, adjustments: false, calculating...
--------------------------------------------------------------------------------
[2025-07-21T09:28:39.123Z] [INFO] [API] Portfolio calculation completed in 568ms
--------------------------------------------------------------------------------
[2025-07-21T09:28:39.816Z] [INFO] [API] Portfolio API completed in 1261ms
--------------------------------------------------------------------------------
[2025-07-21T09:28:39.830Z] [INFO] [API] Portfolio cache hit for user cmdcw5pb60000dcyk0t6zw3c2, account: all, adjustments: false
--------------------------------------------------------------------------------
[2025-07-21T09:28:39.830Z] [INFO] [API] Portfolio API (cached) completed in 2ms
--------------------------------------------------------------------------------
[2025-07-21T09:37:50.969Z] [INFO] [API] Portfolio cache miss for user cmdcw5pb60000dcyk0t6zw3c2, account: all, adjustments: false, calculating...
--------------------------------------------------------------------------------
[2025-07-21T09:37:51.514Z] [INFO] [API] Portfolio calculation completed in 563ms
--------------------------------------------------------------------------------
[2025-07-21T09:37:52.645Z] [INFO] [API] Portfolio API completed in 1694ms
--------------------------------------------------------------------------------
[2025-07-21T09:37:52.656Z] [INFO] [API] Portfolio cache hit for user cmdcw5pb60000dcyk0t6zw3c2, account: all, adjustments: false
--------------------------------------------------------------------------------
[2025-07-21T09:37:52.656Z] [INFO] [API] Portfolio API (cached) completed in 2ms
--------------------------------------------------------------------------------
[2025-07-21T09:44:58.073Z] [INFO] [API] Portfolio cache miss for user cmdcw5pb60000dcyk0t6zw3c2, account: all, adjustments: false, calculating...
--------------------------------------------------------------------------------
[2025-07-21T09:44:58.816Z] [INFO] [API] Portfolio calculation completed in 763ms
--------------------------------------------------------------------------------
[2025-07-21T09:44:59.535Z] [INFO] [API] Portfolio API completed in 1482ms
--------------------------------------------------------------------------------
[2025-07-21T09:44:59.550Z] [INFO] [API] Portfolio cache hit for user cmdcw5pb60000dcyk0t6zw3c2, account: all, adjustments: false
--------------------------------------------------------------------------------
[2025-07-21T09:44:59.551Z] [INFO] [API] Portfolio API (cached) completed in 4ms
--------------------------------------------------------------------------------
[2025-07-21T09:49:33.890Z] [INFO] [API] Portfolio cache miss for user cmdcw5pb60000dcyk0t6zw3c2, account: all, adjustments: false, calculating...
--------------------------------------------------------------------------------
[2025-07-21T09:49:34.815Z] [INFO] [API] Portfolio calculation completed in 957ms
--------------------------------------------------------------------------------
[2025-07-21T09:49:35.632Z] [INFO] [API] Portfolio API completed in 1774ms
--------------------------------------------------------------------------------
[2025-07-21T09:49:35.644Z] [INFO] [API] Portfolio cache hit for user cmdcw5pb60000dcyk0t6zw3c2, account: all, adjustments: false
--------------------------------------------------------------------------------
[2025-07-21T09:49:35.644Z] [INFO] [API] Portfolio API (cached) completed in 2ms
--------------------------------------------------------------------------------
[2025-07-21T09:49:44.178Z] [INFO] [API] Portfolio cache miss for user cmdcw5pb60000dcyk0t6zw3c2, account: all, adjustments: false, calculating...
--------------------------------------------------------------------------------
[2025-07-21T09:49:44.660Z] [INFO] [API] Portfolio calculation completed in 483ms
--------------------------------------------------------------------------------
[2025-07-21T09:49:44.827Z] [INFO] [API] Portfolio API completed in 650ms
--------------------------------------------------------------------------------
[2025-07-21T09:49:44.839Z] [INFO] [API] Portfolio cache hit for user cmdcw5pb60000dcyk0t6zw3c2, account: all, adjustments: false
--------------------------------------------------------------------------------
[2025-07-21T09:49:44.839Z] [INFO] [API] Portfolio API (cached) completed in 2ms
--------------------------------------------------------------------------------
[2025-07-21T09:49:54.975Z] [INFO] [API] Portfolio cache hit for user cmdcw5pb60000dcyk0t6zw3c2, account: all, adjustments: false
--------------------------------------------------------------------------------
[2025-07-21T09:49:54.975Z] [INFO] [API] Portfolio API (cached) completed in 1ms
--------------------------------------------------------------------------------
[2025-07-21T09:49:54.986Z] [INFO] [API] Portfolio cache hit for user cmdcw5pb60000dcyk0t6zw3c2, account: all, adjustments: false
--------------------------------------------------------------------------------
[2025-07-21T09:49:54.986Z] [INFO] [API] Portfolio API (cached) completed in 1ms
--------------------------------------------------------------------------------
