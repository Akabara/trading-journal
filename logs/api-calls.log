[2025-05-27T04:17:36.059Z] [INFO] [API] Latest strategies cache miss for limit 3
--------------------------------------------------------------------------------
[2025-05-27T04:17:36.092Z] [INFO] [API] Latest strategies query completed in 50ms
--------------------------------------------------------------------------------
[2025-05-27T04:19:51.218Z] [INFO] [API] Portfolio cache miss for user cmb0lukgh0000ctq5fwg9urty, account: all, calculating...
--------------------------------------------------------------------------------
[2025-05-27T04:19:51.222Z] [ERROR] [API] Error fetching portfolio data:
{
  "error": "\nInvalid `prisma.transaction.findMany()` invocation:\n\n{\n  where: {\n    userId: \"cmb0lukgh0000ctq5fwg9urty\",\n    quantity: {\n      not: 0\n    }\n  },\n  select: {\n    ticker: true,\n    type: true,\n    quantity: true,\n    price: true,\n    transactionDate: true,\n    stockAccountId: true,\n    stockAccount: {\n    ~~~~~~~~~~~~\n      select: {\n        id: true,\n        name: true,\n        brokerName: true\n      }\n    },\n?   id?: true,\n?   userId?: true,\n?   fee?: true,\n?   taxRate?: true,\n?   calculatedPl?: true,\n?   notes?: true,\n?   createdAt?: true,\n?   updatedAt?: true,\n?   journalEntry?: true,\n?   StockAccount?: true,\n?   user?: true\n  },\n  orderBy: {\n    transactionDate: \"asc\"\n  }\n}\n\nUnknown field `stockAccount` for select statement on model `Transaction`. Available options are marked with ?.",
  "stack": "PrismaClientValidationError: \nInvalid `prisma.transaction.findMany()` invocation:\n\n{\n  where: {\n    userId: \"cmb0lukgh0000ctq5fwg9urty\",\n    quantity: {\n      not: 0\n    }\n  },\n  select: {\n    ticker: true,\n    type: true,\n    quantity: true,\n    price: true,\n    transactionDate: true,\n    stockAccountId: true,\n    stockAccount: {\n    ~~~~~~~~~~~~\n      select: {\n        id: true,\n        name: true,\n        brokerName: true\n      }\n    },\n?   id?: true,\n?   userId?: true,\n?   fee?: true,\n?   taxRate?: true,\n?   calculatedPl?: true,\n?   notes?: true,\n?   createdAt?: true,\n?   updatedAt?: true,\n?   journalEntry?: true,\n?   StockAccount?: true,\n?   user?: true\n  },\n  orderBy: {\n    transactionDate: \"asc\"\n  }\n}\n\nUnknown field `stockAccount` for select statement on model `Transaction`. Available options are marked with ?.\n    at wn (/home/wsladmin/trading-journal/node_modules/@prisma/client/runtime/library.js:29:1363)\n    at $n.handleRequestError (/home/wsladmin/trading-journal/node_modules/@prisma/client/runtime/library.js:121:6958)\n    at $n.handleAndLogRequestError (/home/wsladmin/trading-journal/node_modules/@prisma/client/runtime/library.js:121:6623)\n    at $n.request (/home/wsladmin/trading-journal/node_modules/@prisma/client/runtime/library.js:121:6307)\n    at async l (/home/wsladmin/trading-journal/node_modules/@prisma/client/runtime/library.js:130:9633)\n    at async GET (webpack-internal:///(rsc)/./app/api/portfolio/route.js:59:30)\n    at async AppRouteRouteModule.do (/home/wsladmin/trading-journal/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (/home/wsladmin/trading-journal/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:26:41338)\n    at async doRender (/home/wsladmin/trading-journal/node_modules/next/dist/server/base-server.js:1513:42)\n    at async DevServer.renderToResponseWithComponentsImpl (/home/wsladmin/trading-journal/node_modules/next/dist/server/base-server.js:1915:28)\n    at async DevServer.renderPageComponent (/home/wsladmin/trading-journal/node_modules/next/dist/server/base-server.js:2403:24)\n    at async DevServer.renderToResponseImpl (/home/wsladmin/trading-journal/node_modules/next/dist/server/base-server.js:2440:32)\n    at async DevServer.pipeImpl (/home/wsladmin/trading-journal/node_modules/next/dist/server/base-server.js:1007:25)\n    at async NextNodeServer.handleCatchallRenderRequest (/home/wsladmin/trading-journal/node_modules/next/dist/server/next-server.js:305:17)\n    at async DevServer.handleRequestImpl (/home/wsladmin/trading-journal/node_modules/next/dist/server/base-server.js:899:17)\n    at async /home/wsladmin/trading-journal/node_modules/next/dist/server/dev/next-dev-server.js:371:20\n    at async Span.traceAsyncFn (/home/wsladmin/trading-journal/node_modules/next/dist/trace/trace.js:157:20)\n    at async DevServer.handleRequest (/home/wsladmin/trading-journal/node_modules/next/dist/server/dev/next-dev-server.js:368:24)\n    at async invokeRender (/home/wsladmin/trading-journal/node_modules/next/dist/server/lib/router-server.js:237:21)\n    at async handleRequest (/home/wsladmin/trading-journal/node_modules/next/dist/server/lib/router-server.js:428:24)\n    at async requestHandlerImpl (/home/wsladmin/trading-journal/node_modules/next/dist/server/lib/router-server.js:452:13)\n    at async Server.requestListener (/home/wsladmin/trading-journal/node_modules/next/dist/server/lib/start-server.js:158:13)"
}
--------------------------------------------------------------------------------
[2025-05-27T04:19:51.371Z] [INFO] [API] Portfolio cache miss for user cmb0lukgh0000ctq5fwg9urty, account: all, calculating...
--------------------------------------------------------------------------------
[2025-05-27T04:19:51.374Z] [ERROR] [API] Error fetching portfolio data:
{
  "error": "\nInvalid `prisma.transaction.findMany()` invocation:\n\n{\n  where: {\n    userId: \"cmb0lukgh0000ctq5fwg9urty\",\n    quantity: {\n      not: 0\n    }\n  },\n  select: {\n    ticker: true,\n    type: true,\n    quantity: true,\n    price: true,\n    transactionDate: true,\n    stockAccountId: true,\n    stockAccount: {\n    ~~~~~~~~~~~~\n      select: {\n        id: true,\n        name: true,\n        brokerName: true\n      }\n    },\n?   id?: true,\n?   userId?: true,\n?   fee?: true,\n?   taxRate?: true,\n?   calculatedPl?: true,\n?   notes?: true,\n?   createdAt?: true,\n?   updatedAt?: true,\n?   journalEntry?: true,\n?   StockAccount?: true,\n?   user?: true\n  },\n  orderBy: {\n    transactionDate: \"asc\"\n  }\n}\n\nUnknown field `stockAccount` for select statement on model `Transaction`. Available options are marked with ?.",
  "stack": "PrismaClientValidationError: \nInvalid `prisma.transaction.findMany()` invocation:\n\n{\n  where: {\n    userId: \"cmb0lukgh0000ctq5fwg9urty\",\n    quantity: {\n      not: 0\n    }\n  },\n  select: {\n    ticker: true,\n    type: true,\n    quantity: true,\n    price: true,\n    transactionDate: true,\n    stockAccountId: true,\n    stockAccount: {\n    ~~~~~~~~~~~~\n      select: {\n        id: true,\n        name: true,\n        brokerName: true\n      }\n    },\n?   id?: true,\n?   userId?: true,\n?   fee?: true,\n?   taxRate?: true,\n?   calculatedPl?: true,\n?   notes?: true,\n?   createdAt?: true,\n?   updatedAt?: true,\n?   journalEntry?: true,\n?   StockAccount?: true,\n?   user?: true\n  },\n  orderBy: {\n    transactionDate: \"asc\"\n  }\n}\n\nUnknown field `stockAccount` for select statement on model `Transaction`. Available options are marked with ?.\n    at wn (/home/wsladmin/trading-journal/node_modules/@prisma/client/runtime/library.js:29:1363)\n    at $n.handleRequestError (/home/wsladmin/trading-journal/node_modules/@prisma/client/runtime/library.js:121:6958)\n    at $n.handleAndLogRequestError (/home/wsladmin/trading-journal/node_modules/@prisma/client/runtime/library.js:121:6623)\n    at $n.request (/home/wsladmin/trading-journal/node_modules/@prisma/client/runtime/library.js:121:6307)\n    at async l (/home/wsladmin/trading-journal/node_modules/@prisma/client/runtime/library.js:130:9633)\n    at async GET (webpack-internal:///(rsc)/./app/api/portfolio/route.js:59:30)\n    at async AppRouteRouteModule.do (/home/wsladmin/trading-journal/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (/home/wsladmin/trading-journal/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:26:41338)\n    at async doRender (/home/wsladmin/trading-journal/node_modules/next/dist/server/base-server.js:1513:42)\n    at async DevServer.renderToResponseWithComponentsImpl (/home/wsladmin/trading-journal/node_modules/next/dist/server/base-server.js:1915:28)\n    at async DevServer.renderPageComponent (/home/wsladmin/trading-journal/node_modules/next/dist/server/base-server.js:2403:24)\n    at async DevServer.renderToResponseImpl (/home/wsladmin/trading-journal/node_modules/next/dist/server/base-server.js:2440:32)\n    at async DevServer.pipeImpl (/home/wsladmin/trading-journal/node_modules/next/dist/server/base-server.js:1007:25)\n    at async NextNodeServer.handleCatchallRenderRequest (/home/wsladmin/trading-journal/node_modules/next/dist/server/next-server.js:305:17)\n    at async DevServer.handleRequestImpl (/home/wsladmin/trading-journal/node_modules/next/dist/server/base-server.js:899:17)\n    at async /home/wsladmin/trading-journal/node_modules/next/dist/server/dev/next-dev-server.js:371:20\n    at async Span.traceAsyncFn (/home/wsladmin/trading-journal/node_modules/next/dist/trace/trace.js:157:20)\n    at async DevServer.handleRequest (/home/wsladmin/trading-journal/node_modules/next/dist/server/dev/next-dev-server.js:368:24)\n    at async invokeRender (/home/wsladmin/trading-journal/node_modules/next/dist/server/lib/router-server.js:237:21)\n    at async handleRequest (/home/wsladmin/trading-journal/node_modules/next/dist/server/lib/router-server.js:428:24)\n    at async requestHandlerImpl (/home/wsladmin/trading-journal/node_modules/next/dist/server/lib/router-server.js:452:13)\n    at async Server.requestListener (/home/wsladmin/trading-journal/node_modules/next/dist/server/lib/start-server.js:158:13)"
}
--------------------------------------------------------------------------------
[2025-05-27T04:24:07.757Z] [INFO] [API] Latest strategies cache miss for limit 3
--------------------------------------------------------------------------------
[2025-05-27T04:24:07.799Z] [INFO] [API] Latest strategies query completed in 55ms
--------------------------------------------------------------------------------
[2025-05-27T04:24:07.817Z] [INFO] [API] Latest strategies cache hit for limit 3
--------------------------------------------------------------------------------
[2025-05-27T04:24:07.817Z] [INFO] [API] Latest strategies API (cached) completed in 3ms
--------------------------------------------------------------------------------
[2025-05-27T04:24:13.421Z] [INFO] [API] Portfolio cache miss for user cmb0lukgh0000ctq5fwg9urty, account: all, calculating...
--------------------------------------------------------------------------------
[2025-05-27T04:24:13.425Z] [INFO] [API] Portfolio DB query completed in 22ms
--------------------------------------------------------------------------------
[2025-05-27T04:24:13.426Z] [INFO] [API] Portfolio API completed in 24ms (calculation: 2ms)
--------------------------------------------------------------------------------
[2025-05-27T04:24:13.442Z] [INFO] [API] Portfolio cache hit for user cmb0lukgh0000ctq5fwg9urty, account: all
--------------------------------------------------------------------------------
[2025-05-27T04:24:13.442Z] [INFO] [API] Portfolio API (cached) completed in 4ms
--------------------------------------------------------------------------------
[2025-05-27T04:24:15.488Z] [INFO] [API] Strategies cache miss for page 1, limit 50
--------------------------------------------------------------------------------
[2025-05-27T04:24:15.501Z] [INFO] [API] Strategies DB query completed in 19ms
--------------------------------------------------------------------------------
[2025-05-27T04:24:15.501Z] [INFO] [API] Strategies API completed in 19ms
--------------------------------------------------------------------------------
[2025-05-27T04:24:15.517Z] [INFO] [API] Strategies cache hit for page 1, limit 50
--------------------------------------------------------------------------------
[2025-05-27T04:24:15.517Z] [INFO] [API] Strategies API (cached) completed in 4ms
--------------------------------------------------------------------------------
[2025-05-27T07:22:34.307Z] [INFO] [API] Latest strategies cache miss for limit 3
--------------------------------------------------------------------------------
[2025-05-27T07:22:34.828Z] [INFO] [API] Latest strategies query completed in 540ms
--------------------------------------------------------------------------------
